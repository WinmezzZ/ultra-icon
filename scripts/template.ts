import { jsxExpressionContainer } from '@babel/types';
import { jsxAttribute } from '@babel/types';
import { identifier, jsxClosingElement, jsxElement, jsxIdentifier, jsxOpeningElement } from '@babel/types';
import { transform } from '@svgr/core';

type Template = Parameters<typeof transform>['1']['template'];

const template: Template = ({ imports, interfaces, componentName, props, jsx, exports }: any, { tpl }: any) => {
  const wrappedJsx = jsxElement(
    jsxOpeningElement(jsxIdentifier('span'), [
      jsxAttribute(jsxIdentifier('css'), jsxExpressionContainer(identifier('iconStyle'))),
    ]),
    jsxClosingElement(jsxIdentifier('span')),
    [jsx],
    false,
  );

  return tpl`
/**
 * These code auto generated by UltraIcon
 */

 /** @jsx jsx */
 import { jsx } from '@emotion/react';
 ${imports};
import PropTypes from 'prop-types';
import iconStyle from '../styles';

${interfaces};

const ${componentName} = (${props}) => {
  return ${wrappedJsx}
};

${componentName}.propTypes = {
  size: PropTypes.number,
};

${exports};

  `;
};

export default template;
